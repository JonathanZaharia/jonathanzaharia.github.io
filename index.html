<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Boot Wheel</title>

<style>
:root{
  --bg:#0f172a;
  --panel:#071428;
}

body{
  margin:0;
  background:var(--bg);
  color:white;
  font-family:Arial, sans-serif;
  text-align:center;
}

canvas{
  margin-top:40px;
  background:#111827;
  border-radius:50%;
}

button{
  padding:8px 14px;
  margin:6px;
  cursor:pointer;
}

#tipText{
  margin-top:20px;
  font-style:italic;
  color:#ffd166;
  min-height:24px;
}

.modal{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  min-width:320px;
  background:var(--panel);
  border-radius:12px;
  padding:18px;
  box-shadow:0 26px 80px rgba(0,0,0,.7);
  z-index:60;
  display:none;
}

.modal.show{
  display:block;
}
</style>
</head>

<body>

<h2>Boot Wheel</h2>

<canvas id="wheel" width="400" height="400"></canvas><br>
<button onclick="spin()">SPIN</button>

<div id="tipText"></div>

<div id="winnerModal" class="modal">
  <h3 id="winnerText"></h3>
  <button onclick="closeModal()">Close</button>
</div>

<script>
/* ========== Data ========== */
const options = [
  "Iron Ranger",
  "Red Wing Moc",
  "Logger Boot",
  "Work Boot",
  "Chelsea Boot",
  "Combat Boot"
];

const tips = [
  "Tip: Lace tight enough to lock your heel, not your soul.",
  "Roast: Oof. That price just kicked your wallet.",
  "Joke: These boots have more sole than a blues album.",
  "Roast: Your bank account just entered survival mode.",
  "Joke: That spin had more drama than laundry day.",
  "Tip: Break them in, donâ€™t let them break you.",
  "Roast: Your wallet is officially on a diet."
];

/* ========== Wheel Setup ========== */
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const radius = canvas.width / 2;
let angle = 0;
let angularVelocity = 0;
let spinning = false;
const friction = 0.985;

/* ========== Draw Wheel ========== */
function drawWheel(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const arc = (2 * Math.PI) / options.length;

  options.forEach((option,i)=>{
    const start = angle + i * arc;
    ctx.beginPath();
    ctx.moveTo(radius,radius);
    ctx.arc(radius,radius,radius,start,start+arc);
    ctx.fillStyle = i % 2 ? "#1f2937" : "#374151";
    ctx.fill();

    ctx.save();
    ctx.translate(radius,radius);
    ctx.rotate(start + arc/2);
    ctx.textAlign="right";
    ctx.fillStyle="white";
    ctx.fillText(option, radius-10,5);
    ctx.restore();
  });
}

/* ========== Spin Logic ========== */
function spin(){
  if(spinning) return;
  angularVelocity = Math.random()*0.3 + 0.3;
  spinning = true;
}

function animate(){
  if(spinning){
    angularVelocity *= friction;
    angle += angularVelocity;

    if(Math.abs(angularVelocity) < 0.002){
      angularVelocity = 0;
      spinning = false;
      setTimeout(onStop,300);
    }
  }

  drawWheel();
  requestAnimationFrame(animate);
}

function onStop(){
  const arc = (2 * Math.PI) / options.length;
  const index = Math.floor(options.length - (angle % (2*Math.PI)) / arc) % options.length;
  showWinner(options[index]);
}

/* ========== Modal ========== */
function showWinner(text){
  document.getElementById("winnerText").textContent = "You got: " + text;
  document.getElementById("winnerModal").classList.add("show");
}

function closeModal(){
  document.getElementById("winnerModal").classList.remove("show");
}

/* ========== Cycling Tips ========== */
let tipInterval = null;

function randomTip(){
  return tips[Math.floor(Math.random()*tips.length)];
}

function startTipCycle(){
  const tip = document.getElementById("tipText");
  tip.textContent = randomTip();

  if(tipInterval) clearInterval(tipInterval);

  tipInterval = setInterval(()=>{
    tip.textContent = randomTip();
  },4000);
}

/* ========== Start ========== */
startTipCycle();
animate();
</script>

</body>
</html>
